<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light only">
    <title>Album Ranking</title>
    <link rel="icon" type="image/png" href="assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="shortcut icon" href="assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="AlbumScore" />
    <link rel="manifest" href="assets/site.webmanifest" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-left">
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h1>üéµ Album Ranking</h1>
        </div>
        <button class="btn-nuevo" onclick="openModal()">Nuevo</button>
    </header>

    <div class="container">
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>
        <aside class="sidebar" id="sidebar">
            <h2>
                <span class="sidebar-title">Mi Colecci√≥n</span>
                <span class="settings-icon" onclick="openSettingsModal()">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6.17071 18C6.58254 16.8348 7.69378 16 9 16C10.3062 16 11.4175 16.8348 11.8293 18H22V20H11.8293C11.4175 21.1652 10.3062 22 9 22C7.69378 22 6.58254 21.1652 6.17071 20H2V18H6.17071ZM12.1707 11C12.5825 9.83481 13.6938 9 15 9C16.3062 9 17.4175 9.83481 17.8293 11H22V13H17.8293C17.4175 14.1652 16.3062 15 15 15C13.6938 15 12.5825 14.1652 12.1707 13H2V11H12.1707ZM6.17071 4C6.58254 2.83481 7.69378 2 9 2C10.3062 2 11.4175 2.83481 11.8293 4H22V6H11.8293C11.4175 7.16519 10.3062 8 9 8C7.69378 8 6.58254 7.16519 6.17071 6H2V4H6.17071ZM9 6C9.55228 6 10 5.55228 10 5C10 4.44772 9.55228 4 9 4C8.44772 4 8 4.44772 8 5C8 5.55228 8.44772 6 9 6ZM15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13ZM9 20C9.55228 20 10 19.5523 10 19C10 18.4477 9.55228 18 9 18C8.44772 18 8 18.4477 8 19C8 19.5523 8.44772 20 9 20Z"/>
                    </svg>
                </span>
            </h2>
            <div id="albumList"></div>
        </aside>

        <main class="main-content">
            <div id="mainContent" class="content-wrapper">
                <div class="empty-state">
                    <h2>Bienvenido a tu biblioteca musical</h2>
                    <p>Haz clic en "Nuevo" para agregar tu primer √°lbum</p>
                </div>
            </div>
        </main>
    </div>

    <!-- NUEVO ALBUM MODAL -->

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo √Ålbum</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            
            <div class="tabs">
                <button class="tab active" onclick="switchTab('buscar')">Buscar</button>
                <button class="tab" onclick="switchTab('manual')">Manual</button>
            </div>
            <!-- BUSCAR TAB -->
            <div id="tab-buscar" class="tab-content active">
                <form class="search-form" onsubmit="searchAlbum(event)">
                    <div class="form-group">
                        <label class="form-label" for="artistInput">Artista</label>
                        <input type="text" id="artistInput" class="search-input" placeholder="Ingresa el nombre del artista" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="albumInput">√Ålbum <span class="label-optional">(opcional)</span></label>
                        <input type="text" id="albumInput" class="search-input" placeholder="Ingresa el nombre del √°lbum">
                    </div>
                    <button type="submit" class="btn-buscar">Buscar</button>
                </form>
                <div id="searchResults"></div>
            </div>
            <!-- MANUAL TAB -->
            <div id="tab-manual" class="tab-content">
                <form class="search-form" onsubmit="createManualAlbum(event)">
                    <div class="form-group">
                        <label class="form-label">Color</label>
                        <div class="color-selector">
                            <div class="color-option color-red" data-color="red" onclick="selectColor('red')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-pink" data-color="pink" onclick="selectColor('pink')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-purple" data-color="purple" onclick="selectColor('purple')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-royalblue" data-color="royalblue" onclick="selectColor('royalblue')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-skyblue" data-color="skyblue" onclick="selectColor('skyblue')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-green" data-color="green" onclick="selectColor('green')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-yellow" data-color="yellow" onclick="selectColor('yellow')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-brown" data-color="brown" onclick="selectColor('brown')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-black selected" data-color="black" onclick="selectColor('black')">
                                <div class="color-option-inner"></div>
                            </div>
                            <div class="color-option color-white" data-color="white" onclick="selectColor('white')">
                                <div class="color-option-inner"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="manualArtist">Artista</label>
                        <input type="text" id="manualArtist" class="search-input" placeholder="Ingresa el nombre del artista" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="manualAlbum">√Ålbum</label>
                        <input type="text" id="manualAlbum" class="search-input" placeholder="Ingresa el nombre del √°lbum" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="manualTracks">Canciones</label>
                        <textarea id="manualTracks" class="search-textarea" placeholder="Ingresa las canciones (una por l√≠nea)" required></textarea>
                    </div>
                    <button type="submit" class="btn-buscar">Generar</button>
                </form>
            </div>
        </div>
    </div>

    <!-- CONFIRM DELETE -->

    <div id="confirmModal" class="confirm-modal">
        <div class="confirm-content">
            <h3>¬øEst√°s seguro de que deseas eliminar este √°lbum?</h3>
            <div class="confirm-buttons">
                <button class="btn-confirm yes" onclick="confirmDelete()">S√≠, eliminar</button>
                <button class="btn-confirm no" onclick="closeConfirmModal()">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- SHARE MODAL -->

    <div id="shareModal" class="share-modal">
        <div class="share-content">
            <div class="share-header">
                <button class="btn-copy" onclick="copyToClipboard()">Copiar</button>
                <button class="close-share-btn" onclick="closeShareModal()">‚úï</button>
            </div>
            <div id="shareBody" class="share-body"></div>
        </div>
    </div>

    <!-- SETTINGS MODAL -->

    <div id="settingsModal" class="settings-modal">
        <div class="settings-content">
            <div class="settings-header">
                <h2>Ajustes</h2>
                <button class="close-btn" onclick="closeSettingsModal()">&times;</button>
            </div>
            
            <div class="settings-section">
                <h3>Filtros</h3>
                <p style="color: #999999; font-size: 14px;">Pr√≥ximamente...</p>
            </div>
            
            <div class="settings-section">
                <h3>Datos</h3>
                <div class="settings-buttons">
                    <button class="btn-settings" onclick="exportData()">Exportar</button>
                    <button class="btn-settings" onclick="importData()">Importar</button>
                </div>
                <input type="file" id="importFileInput" accept=".json" style="display: none;" onchange="handleImportFile(event)">
            </div>
        </div>
    </div>

    <!-- ESTADISTICAS MODAL -->

    <div id="estadisticasModal" class="estadisticas-modal">
        <div class="estadisticas-content">
            <div class="estadisticas-header">
                <h2>Estad√≠sticas</h2>
                <button class="close-btn" onclick="closeEstadisticasModal()">&times;</button>
            </div>
            
            <div class="estadisticas-section">
                <h3>Calificaci√≥n Final</h3>
                <div id="estadisticas-finalScore"></div>
            </div>
            <div class="estadisticas-section">
                <h3>Resultados</h3>
                <div class="estadisticas-resultados-todo">
                    <div class="estadisticas-resultados">
                        <span class="estadisticas-resultados-iconos">
                            <svg viewBox="0 0 640 512" fill="currentColor">
                                <path d="M320.1 32C329.1 32 337.4 37.1 341.5 45.1L415 189.3L574.9 214.7C583.8 216.1 591.2 222.4 594 231C596.8 239.6 594.5 249 588.2 255.4L473.7 369.9L499 529.8C500.4 538.7 496.7 547.7 489.4 553C482.1 558.3 472.4 559.1 464.4 555L320.1 481.6L175.8 555C167.8 559.1 158.1 558.3 150.8 553C143.5 547.7 139.8 538.8 141.2 529.8L166.4 369.9L52 255.4C45.6 249 43.4 239.6 46.2 231C49 222.4 56.3 216.1 65.3 214.7L225.2 189.3L298.8 45.1C302.9 37.1 311.2 32 320.2 32zM320.1 108.8L262.3 222C258.8 228.8 252.3 233.6 244.7 234.8L119.2 254.8L209 344.7C214.4 350.1 216.9 357.8 215.7 365.4L195.9 490.9L309.2 433.3C316 429.8 324.1 429.8 331 433.3L444.3 490.9L424.5 365.4C423.3 357.8 425.8 350.1 431.2 344.7L521 254.8L395.5 234.8C387.9 233.6 381.4 228.8 377.9 222L320.1 108.8z"/>
                            </svg>
                        </span>
                        <span id="estadisticas-favorites-count"></span><span id="estadisticas-favorites-percentage"></span>
                    </div>
                    <div class="estadisticas-resultados">
                        <span class="estadisticas-resultados-iconos">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14.5998 8.00033H21C22.1046 8.00033 23 8.89576 23 10.0003V12.1047C23 12.3659 22.9488 12.6246 22.8494 12.8662L19.755 20.3811C19.6007 20.7558 19.2355 21.0003 18.8303 21.0003H2C1.44772 21.0003 1 20.5526 1 20.0003V10.0003C1 9.44804 1.44772 9.00033 2 9.00033H5.48184C5.80677 9.00033 6.11143 8.84246 6.29881 8.57701L11.7522 0.851355C11.8947 0.649486 12.1633 0.581978 12.3843 0.692483L14.1984 1.59951C15.25 2.12534 15.7931 3.31292 15.5031 4.45235L14.5998 8.00033ZM7 10.5878V19.0003H18.1606L21 12.1047V10.0003H14.5998C13.2951 10.0003 12.3398 8.77128 12.6616 7.50691L13.5649 3.95894C13.6229 3.73105 13.5143 3.49353 13.3039 3.38837L12.6428 3.0578L7.93275 9.73038C7.68285 10.0844 7.36341 10.3746 7 10.5878ZM5 11.0003H3V19.0003H5V11.0003Z"/>
                            </svg>
                        </span>
                        <span id="estadisticas-likes-count"></span><span id="estadisticas-likes-percentage"></span>
                    </div>
                    <div class="estadisticas-resultados">
                        <span class="estadisticas-resultados-iconos">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9.40017 16H3C1.89543 16 1 15.1046 1 14V11.8957C1 11.6344 1.05118 11.3757 1.15064 11.1342L4.24501 3.61925C4.3993 3.24455 4.76447 3 5.16969 3H22C22.5523 3 23 3.44772 23 4V14C23 14.5523 22.5523 15 22 15H18.5182C18.1932 15 17.8886 15.1579 17.7012 15.4233L12.2478 23.149C12.1053 23.3508 11.8367 23.4184 11.6157 23.3078L9.80163 22.4008C8.74998 21.875 8.20687 20.6874 8.49694 19.548L9.40017 16ZM17 13.4125V5H5.83939L3 11.8957V14H9.40017C10.7049 14 11.6602 15.229 11.3384 16.4934L10.4351 20.0414C10.3771 20.2693 10.4857 20.5068 10.6961 20.612L11.3572 20.9425L16.0673 14.27C16.3172 13.9159 16.6366 13.6257 17 13.4125ZM19 13H21V5H19V13Z"/>
                            </svg>
                        </span>
                        <span id="estadisticas-dislikes-count"></span><span id="estadisticas-dislikes-percentage"></span>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <script src="config.js"></script>
</body>
</html>